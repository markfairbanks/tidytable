<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>speed_comparisons • tidytable</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="speed_comparisons">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidytable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.11.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/speed_comparisons.html">speed_comparisons</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/markfairbanks/tidytable/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>speed_comparisons</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/markfairbanks/tidytable/blob/HEAD/vignettes/speed_comparisons.Rmd" class="external-link"><code>vignettes/speed_comparisons.Rmd</code></a></small>
      <div class="hidden name"><code>speed_comparisons.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="speed-comparisons">Speed Comparisons<a class="anchor" aria-label="anchor" href="#speed-comparisons"></a>
</h3>
<p>A few notes:</p>
<ul>
<li>Comparing times from separate functions won’t be very useful. For
example - the <code><a href="../reference/summarize.html">summarize()</a></code> tests were performed on a
different dataset from <code><a href="../reference/case_when.html">case_when()</a></code>.</li>
<li>
<code>setDTthreads(4)</code> was used for <code>data.table</code>
&amp; <code>tidytable</code> timings.</li>
<li>Modify-by-reference was used in <code>data.table</code> when being
compared to <code>mutate.()</code> &amp;
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code>
</li>
<li>
<code>fill.()</code> &amp; <code><a href="https://tidyr.tidyverse.org/reference/fill.html" class="external-link">tidyr::fill()</a></code> both work with
character/factor/logical columns, whereas
<code><a href="https://rdrr.io/pkg/data.table/man/nafill.html" class="external-link">data.table::nafill()</a></code> does not. Testing only included
numeric columns due to this constraint.</li>
<li>
<code>dtplyr</code> is missing timings for functions that are not
yet implemented in the package.</li>
<li>
<code>pandas</code> comparisons are in the process of being added -
more will be added soon.</li>
<li>All tests are run 11 times. The times shown are the median of those
11 runs.</li>
<li>All timings are in milliseconds.</li>
<li>All tests can be found in the source code <a href="https://github.com/markfairbanks/tidytable/blob/master/vignettes/speed_comparisons.Rmd" class="external-link">here</a>.</li>
<li>FAQ - Why are some <code>tidytable</code> functions faster than
their <code>data.table</code> counterpart?
<ul>
<li>Short answer - they’re not! After all they’re just using
<code>data.table</code> in the background.</li>
<li>Long answer - All R functions have some slight natural variation in
their execution time. By chance the <code>tidytable</code> runs were
slightly shorter on those specific functions on this iteration of the
tests. However one goal of these tests is to show that the “time cost”
of translating <code>tidyverse</code> syntax to <code>data.table</code>
is very negligible to the user (especially on medium-to-large
datasets).</li>
</ul>
</li>
<li>Lastly I’d like to mention that these tests were not rigorously
created to cover all angles equally. They are just meant to be used as
general insight into the performance of these packages.</li>
</ul>
<pre><code><span><span class="co">#&gt; Date last run: 2024-12-10</span></span></code></pre>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tidytable: 13 × 6</span></span></span>
<span><span class="co">#&gt;    func_tested  data.table tidytable dtplyr tidyverse pandas</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> arrange            17.6      11.6   19.3      23    716. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> case_when           7.5       6.5   <span style="color: #BB0000;">NA</span>        23.5   64.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> distinct           14.4      16.4   15.6      15.9  309. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> fill               15.6      20.7   17.6       8.1  724  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> filter             69.3      69     73.9      96.3  904. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> inner_join         20.6      20.2   23.3      44.7   <span style="color: #BB0000;">NA</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> left_join          27.8      26.1   31.7      85.3   <span style="color: #BB0000;">NA</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> mutate             38.4      38.5   58.1      37.7  780. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> nest                8.6       6.8   29.8      18.4   <span style="color: #BB0000;">NA</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> pivot_longer       28.7      17.3   26.4      87.6   <span style="color: #BB0000;">NA</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> pivot_wider        14.2      15.5   61.9      47.6   <span style="color: #BB0000;">NA</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> summarize         196.      189.   192.      394.  <span style="text-decoration: underline;">3</span>080. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> unnest            106.       30.8   <span style="color: #BB0000;">NA</span>        39.6   <span style="color: #BB0000;">NA</span></span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mark Fairbanks.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
